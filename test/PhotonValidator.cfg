process TestPhotonValidator = 
{

  untracked PSet maxEvents = {untracked int32 input = 1000}


 source = PoolSource {
    untracked vstring fileNames = {

## Official RelVal 210pre6 Single Photon pt=35 GeV  4T
'rfio:/castor/cern.ch/cms/store/relval/2008/6/20/RelVal-RelValSingleGammaPt35-1213920853-IDEAL_V2-2nd/0000/28C3DDA9-B03E-DD11-AAA9-000423D9A212.root',
'rfio:/castor/cern.ch/cms/store/relval/2008/6/20/RelVal-RelValSingleGammaPt35-1213920853-IDEAL_V2-2nd/0000/34A839BD-AF3E-DD11-ADFC-000423D99E46.root',
'rfio:/castor/cern.ch/cms/store/relval/2008/6/20/RelVal-RelValSingleGammaPt35-1213920853-IDEAL_V2-2nd/0000/4ECD9899-B23E-DD11-90A9-001617C3B6E2.root',
'rfio:/castor/cern.ch/cms/store/relval/2008/6/20/RelVal-RelValSingleGammaPt35-1213920853-IDEAL_V2-2nd/0000/CC46175D-B03E-DD11-8EE1-000423D9890C.root'


    }
}

include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"
# Magnetic field
include "Configuration/StandardSequences/data/MagneticField_40T.cff"
### initialize idealGeometry ###
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
# Tracker Geometry Builder
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"
# Tracker Numbering Builder
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
# MeasurementTracker
include "RecoTracker/MeasurementDet/data/MeasurementTrackerESProducer.cfi"


# Tracking Truth
  include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"

# Track associator 
include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"

# re-run the mxing module
include "SimGeneral/MixingModule/data/mixNoPU.cfi"

include "Validation/RecoEgamma/data/photonValidator.cfi"


#  include "DQMServices/Components/data/MessageLogger.cfi"
#  service = LoadAllDictionaries {}
  

  include "DQMServices/Components/data/MEtoEDMConverter.cfi"
  service = DQMStore {}	
#  include "DQMServices/Components/test/dqm_onlineEnv.cfi"	
#  replace dqmSaver.saveAtJobEnd = true

  module FEVT = PoolOutputModule 
  { 
#    untracked string fileName = "MEtoEDMConverter.root"
    untracked string fileName = "pippo.root"	
    untracked vstring outputCommands =
    {
   
      "keep *_MEtoEDMConverter_*_*"
     }
  }


  path p1 = {mix,photonValidation}	

  endpath outpath = {FEVT}

  schedule = {p1,outpath}
}
